<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reader Page</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css"> 
    
    <style>
      a, a:hover {
        text-decoration: none;
      }

      .card {
        --card-border-width: 1px;
        --card-border-color: #e3e6f0;
        --card-border-radius: 5px;
        --card-color: #000;
        --card-bg: #D8EFFF;
      
        border-width: var(--card-border-width);
        border-color: var(--card-border-color);
        border-radius: var(--card-border-radius);
        background-color: var(--card-bg);
        color: var(--card-color);
        box-shadow: none;
      }

      #visit-card {
        --card-border-width: 1px;
        --card-border-color: #e3e6f0;
        --card-border-radius: 5px;
        --card-color: #000;
        --card-bg: white;
      
        border-width: var(--card-border-width);
        border-color: var(--card-border-color);
        border-radius: var(--card-border-radius);
        background-color: var(--card-bg);
        color: var(--card-color);
        box-shadow: none;
      }
    </style>
  </head>
  <body>
    <%- include('partials/nav-bar') %>
    <div class="mx-4 p-0 d-flex">
      <div class="col-8">
        <div class="my-4">
          <h4 class="fw-bold">Newly Released</h4>
          <div class="row">
            <% newArticles.forEach(function(article) { %> 
              <div class="col-md-6">
                <a href = "/article/<%= article.id %>">
                  <div class="card">
                    <div class="card-body">
                      <h5 class="card-title"><%= article.title %></h5>
                      <h6 class="card-subtitle mb-2 text-muted">
                          By <%= article.authorName %>  <%= article.createdAt %>
                      </h6>
                      <p class="card-text"><%= cutText(article.content, 25) %></p>
                      <div class="p-2 text-center me-2 rounded" style="display: inline-block; width: auto; background-color: #005B97;">
                        <i class="bi bi-hand-thumbs-up text-white"></i>
                        <span class="text-white"><%= article.likes %></span>
                      </div>
                    </div>
                  </div>
                </a>  
              </div>
            <% }); %>
          </div>
        </div>
  
        <div class="my-4">
          <h4 class="fw-bold">Featured Articles</h4>
          <div class="row">
            <% featuredArticles.forEach(function(article) { %> 
              <div class="col-md-12 mb-3">
                <a href = "/article/<%= article.id %>">
                  <div class="card">
                    <div class="card-body">
                      <div class="row ">
                        <div class="col-md-4">
                          <p class="card-title pb-0 fw-bold">
                            <%= article.title %>
                          </p>
                          <h6 class="card-subtitle mb-1 text-muted">
                            By <%= article.authorName %>
                          </h6>
                          <h6 class="card-subtitle mb-1 text-muted">
                            <%= article.createdAt %>
                          </h6>
                          <div class="p-2 text-center me-2 rounded" style="display: inline-block; width: auto; background-color: #005B97;">
                            <i class="bi bi-hand-thumbs-up text-white"></i>
                            <span class="text-white"><%= article.likes %></span>
                          </div>
                        </div>
                        <div class="col-md-8">
                          <p class="card-text"><%= cutText(article.content, 25) %></p>
                        </div>
                      </div>
                    </div>
                  </div>
                </a>
              </div>
            <% }); %>
          </div>
        </div>
      </div>

      <div class="my-4 col-4">
        <h4 class="fw-bold">Visit Other Blogs</h4>
        <div class="col h-auto p-4 rounded"  style="background-color: #D8EFFF;">
          <% blogs.forEach(function(blog) { %> 
            <div class="">
              <div class="mb-3 card" id="visit-card">
                <div class="card-body">
                  <h5 class="card-title"><%= blog.blogTitle %></h5>
                  <h6 class="card-subtitle mb-1 text-muted">
                    <%= blog.blogSubtitle %>
                  </h6>
                  <h6 class="card-subtitle mb-2 text-muted">By <%= blog.name %></h6>
                </div>
              </div>
            </div>
          <% }); %>
        </div>
      </div>
    </div>
</body>
</html>
